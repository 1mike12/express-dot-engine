<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Express-dot-engine : Node.js engine using the ultra fast doT templating with support for layouts, partials and friendly for front-end web libraries (Angular, Ember, Backbone...)">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Express-dot-engine</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/danlevan/express-dot-engine">View on GitHub</a>

          <h1 id="project_title">Express-dot-engine</h1>
          <h2 id="project_tagline">Node.js engine using the ultra fast doT templating with support for layouts, partials and friendly for front-end web libraries (Angular, Ember, Backbone...)</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/danlevan/express-dot-engine/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/danlevan/express-dot-engine/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a name="express-dot-engine" class="anchor" href="#express-dot-engine"><span class="octicon octicon-link"></span></a>express-dot-engine</h1>

<p>Node.js engine using the ultra fast <a href="http://olado.github.io/doT/">doT</a> templating with support for layouts, partials and friendly for front-end web libraries (Angular, Ember, Backbone...)</p>

<h2>
<a name="features" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Only 1 dependency (doT)</li>
<li>Extremely fast (<a href="http://olado.github.io/doT/">all the advantages of doT</a>)</li>
<li>Plays well with client libraries that use the curly {{ }} syntax (Angular, Ember, Backbone...)</li>
<li>Layout support, partial support</li>
<li>Cache support</li>
</ul><h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install with npm</p>

<pre><code>&gt; npm install express-dot-engine --save
</code></pre>

<p>Then in your code</p>

<pre><code>var engine = require('express-dot-engine');
var express = require('express');
var path = require('path');

var app = express();

app.engine('dot', engine.__express);
app.set('views', path.join(__dirname, './views'));
app.set('view engine', 'dot');

app.get('/', function(req, res){
  res.render('index', { fromServer: 'Hello from server', });
});

var server = app.listen(3000, function() {
  console.log('Listening on port %d', server.address().port);
});
</code></pre>

<h2>
<a name="plays-well-with-angular-ember-backbone-etc" class="anchor" href="#plays-well-with-angular-ember-backbone-etc"><span class="octicon octicon-link"></span></a>Plays well with Angular, Ember, Backbone, etc</h2>

<p>By default, the engine uses [[ ]] instead of {{ }} on the backend. This allows the use of front-end templating libraries that already use {{ }}.</p>

<p>If you want to configure this you can change the library settings and doT settings.</p>

<pre><code>engine.setting.layout = /\[\[###([\s\S]+?)\]\]/g;
engine.settings.dot = {
  evaluate:    /\[\[([\s\S]+?)\]\]/g,
  interpolate: /\[\[=([\s\S]+?)\]\]/g,
  encode:      /\[\[!([\s\S]+?)\]\]/g,
  use:         /\[\[#([\s\S]+?)\]\]/g,
  define:      /\[\[##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\]\]/g,
  conditional: /\[\[\?(\?)?\s*([\s\S]*?)\s*\]\]/g,
  iterate:     /\[\[~\s*(?:\]\]|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\]\])/g,
  varname: 'layout, server',
  strip: false,
  append: true,
  selfcontained: false,
};
</code></pre>

<h2>
<a name="layout" class="anchor" href="#layout"><span class="octicon octicon-link"></span></a>Layout</h2>

<h3>
<a name="supports-multiple-sections" class="anchor" href="#supports-multiple-sections"><span class="octicon octicon-link"></span></a>Supports multiple sections</h3>

<p><strong>master.dot</strong></p>

<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Test page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Hello from master.dot &lt;br /&gt;

    [[=layout.body]] &lt;br /&gt;

    [[=layout.body2]]

  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><strong>index.dot</strong></p>

<pre><code>[[###master.dot]]

[[##body:
  Hello from index.dot
#]]

[[##body2:
  Hello from index.dot again
#]]
</code></pre>

<h3>
<a name="supports-cascading-layouts" class="anchor" href="#supports-cascading-layouts"><span class="octicon octicon-link"></span></a>Supports cascading layouts</h3>

<p><strong>master.dot</strong></p>

<pre><code>&lt;!doctype html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Test page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    Hello from master.dot &lt;br /&gt;

    [[=layout.body]]
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p><strong>wife.dot</strong></p>

<pre><code>[[###master.dot]]

[[##body:
  Hello from wife.dot

  [[=layout.body]]
#]]
</code></pre>

<p><strong>index.dot</strong></p>

<pre><code>[[###wife.dot]]

[[##body:
  Hello from index.dot
#]]
</code></pre>

<h3>
<a name="supports-partials" class="anchor" href="#supports-partials"><span class="octicon octicon-link"></span></a>Supports Partials</h3>

<p>index.dot</p>

<pre><code>&lt;div&gt;
  My partial says: [[#def.partial('partials/hello.dot')]]
&lt;/div&gt;
</code></pre>

<p>partials/hello.dot</p>

<pre><code>&lt;span&gt;Hello from partials/hello.dot&lt;/span&gt;
</code></pre>

<h2>
<a name="server-model" class="anchor" href="#server-model"><span class="octicon octicon-link"></span></a>Server model</h2>

<p>In your application, you can render the view by calling</p>

<p><strong>index.js</strong>
    app.get('/', function(req, res){
      res.render('index', { fromServer: 'Hello from server', });
    });</p>

<p>On the view, you can access the model by calling</p>

<p><strong>index.dot</strong>
    Server says: [[=server.fromServer]]</p>

<p>Partials and master layouts also has access to the server models.</p>

<h2>
<a name="caching" class="anchor" href="#caching"><span class="octicon octicon-link"></span></a>Caching</h2>

<p>Caching is enabled when express is running in production via the 'view cache' variable in express. This is done automatically. If you want to enable cache in development, you can add this
    app.set('view cache', true);</p>

<h2>
<a name="how-to-run-the-examples" class="anchor" href="#how-to-run-the-examples"><span class="octicon octicon-link"></span></a>How to run the examples</h2>

<p>Install express-dot-engine</p>

<pre><code>&gt; npm install express-dot-engine
</code></pre>

<p>Then cd to the directory</p>

<pre><code>&gt; cd express-dot-engine
</code></pre>

<p>Install the example dependencies (yes install express-dot-engine within itself whoa!)</p>

<pre><code>&gt; npm install express
&gt; npm install express-dot-engine
</code></pre>

<p>Then run the example you want</p>

<pre><code>&gt; node examples/simple
</code></pre>

<p>or</p>

<pre><code>&gt; node examples/cascade
</code></pre>

<p>or</p>

<pre><code>&gt; node examples/partials
</code></pre>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Express-dot-engine maintained by <a href="https://github.com/danlevan">danlevan</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-55029579-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
